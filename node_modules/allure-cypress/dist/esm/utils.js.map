{"version":3,"file":"utils.js","names":["DEFAULT_RUNTIME_CONFIG","stepsFromCommands","maxArgumentLength","maxArgumentDepth","popUntilFindIncluded","items","pred","index","findIndex","toReversed","splice","arr","len","length","result","Array","i","last","isDefined","value"],"sources":["../../src/utils.ts"],"sourcesContent":["export const DEFAULT_RUNTIME_CONFIG = {\n  stepsFromCommands: {\n    maxArgumentLength: 128,\n    maxArgumentDepth: 3,\n  },\n};\n\n/**\n * Pops items from an array into a new one. The item that matches the predicate is the last item to pop.\n * If there is no such item in the array, the array is left unmodified.\n * @param items An array to pop the items from.\n * @param pred A predicate that defines the last item to pop.\n * @returns An array of popped items. The first popped item becomes the first element of this array.\n */\nexport const popUntilFindIncluded = <T>(items: T[], pred: (value: T) => boolean) => {\n  const index = items.findIndex(pred);\n  return index !== -1 ? toReversed(items.splice(index)) : [];\n};\n\nexport const toReversed = <T = unknown>(arr: T[]): T[] => {\n  const len = arr.length;\n  const result: T[] = new Array(len);\n\n  for (let i = 0; i < len; i++) {\n    result[len - i - 1] = arr[i];\n  }\n\n  return result;\n};\n\nexport const last = <T = unknown>(arr: T[]): T | undefined => {\n  return arr[arr.length - 1];\n};\n\nexport const isDefined = <T>(value: T | undefined): value is T => typeof value !== \"undefined\";\n"],"mappings":"AAAA,OAAO,IAAMA,sBAAsB,GAAG;EACpCC,iBAAiB,EAAE;IACjBC,iBAAiB,EAAE,GAAG;IACtBC,gBAAgB,EAAE;EACpB;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,oBAAoB,GAAGA,CAAIC,KAAU,EAAEC,IAA2B,KAAK;EAClF,IAAMC,KAAK,GAAGF,KAAK,CAACG,SAAS,CAACF,IAAI,CAAC;EACnC,OAAOC,KAAK,KAAK,CAAC,CAAC,GAAGE,UAAU,CAACJ,KAAK,CAACK,MAAM,CAACH,KAAK,CAAC,CAAC,GAAG,EAAE;AAC5D,CAAC;AAED,OAAO,IAAME,UAAU,GAAiBE,GAAQ,IAAU;EACxD,IAAMC,GAAG,GAAGD,GAAG,CAACE,MAAM;EACtB,IAAMC,MAAW,GAAG,IAAIC,KAAK,CAACH,GAAG,CAAC;EAElC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,GAAG,EAAEI,CAAC,EAAE,EAAE;IAC5BF,MAAM,CAACF,GAAG,GAAGI,CAAC,GAAG,CAAC,CAAC,GAAGL,GAAG,CAACK,CAAC,CAAC;EAC9B;EAEA,OAAOF,MAAM;AACf,CAAC;AAED,OAAO,IAAMG,IAAI,GAAiBN,GAAQ,IAAoB;EAC5D,OAAOA,GAAG,CAACA,GAAG,CAACE,MAAM,GAAG,CAAC,CAAC;AAC5B,CAAC;AAED,OAAO,IAAMK,SAAS,GAAOC,KAAoB,IAAiB,OAAOA,KAAK,KAAK,WAAW","ignoreList":[]}